<!DOCTYPE html>
<html>
<head>
    <title>User Registration</title>
    <style>
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            padding: 20px;
        }
        .banner {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background-color: #333;
            color: #fff;
            padding: 10px;
            text-align: center;
        }
        .container {
            max-width: 500px;
            margin-top: 100px;
        }
        .form-group {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }
        .form-group label {
            flex: 0 0 150px;
            margin-right: 10px;
        }
        .form-group input[type="text"],
        .form-group input[type="email"],
        .form-group input[type="tel"],
        .form-group input[type="date"],
        .form-group select,
        .form-group textarea {
            flex: 1;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        .form-group input[type="file"] {
            flex: 1;
            padding: 5px;
        }
        .form-group.error {
            color: red;
        }
        .form-group.error input,
        .form-group.error select,
        .form-group.error textarea {
            border-color: red;
        }
        .form-group .error-message {
            margin-left: 10px;
            color: red;
        }
        .form-group.user-type-field {
            margin-top: 20px;
        }
        .form-group.user-type-field label {
            margin-bottom: 0;
        }
        .hidden {
            display: none;
        }
    </style>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function() {
            // Hide all controls except user type initially
            $('.form-group:not(.user-type-field)').hide();

            // User type radio button change event handler
            $('input[name="user-type"]').change(function() {
                var userType = $(this).val();
                // Hide all controls
                $('.form-group:not(.user-type-field)').hide();
                // Show controls based on user type
                if (userType === 'user1') {
                    $('.form-group:not(.user-type-field)').show();
                    $('#id-upload-field').hide();
                    $('#option-field').hide();
                } else if (userType === 'user2') {
                    $('.form-group:not(.user-type-field)').show();
                    $('#id-upload-field').show();
                    $('#option-field').show();
                }
            });

            // Submit button click event handler
            $('#submit-btn').click(function() {
                var valid = true;

                // Remove any existing error styles and messages
                $('.form-group').removeClass('error');
                $('.error-message').remove();

                // Validate fields
                $('.form-group input[required]').each(function() {
                    if (!$(this).val()) {
                        valid = false;
                        $(this).closest('.form-group').addClass('error');
                        $(this).after('<div class="error-message">This field is required</div>');
                    }
                });

                if (valid) {
                    // Get user inputs
                    var firstName = $('#first-name').val();
                    var middleName = $('#middle-name').val();
                    var lastName = $('#last-name').val();
                    var email = $('#email').val();
                    var phoneNumber = $('#phone-number').val();
                    var streetAddress = $('#street-address').val();
                    var city = $('#city').val();
                    var state = $('#state').val();
                    var postalCode = $('#postal-code').val();
                    var nationality = $('#nationality').val();
                    var dob = $('#dob').val();
                    var idNumber = $('#id-number').val();
                    var idType = $('#id-type').val();
                    var idIssueState = $('#id-issue-state').val();
                    var idIssueCountry = $('#id-issue-country').val();
                    var userType = $('input[name="user-type"]:checked').val();

                    // Create data object
                    var data = {
                        firstName: firstName,
                        middleName: middleName,
                        lastName: lastName,
                        email: email,
                        phoneNumber: phoneNumber,
                        address: {
                            streetAddress: streetAddress,
                            city: city,
                            state: state,
                            postalCode: postalCode
                        },
                        nationality: nationality,
                        dob: dob,
                        idNumber: idNumber,
                        idType: idType,
                        idIssueState: idIssueState,
                        idIssueCountry: idIssueCountry,
                        userType: userType
                    };

                    // Send data to API
                    $.ajax({
                        url: 'your-api-endpoint',
                        type: 'POST',
                        data: JSON.stringify(data),
                        contentType: 'application/json',
                        success: function(response) {
                            // Handle success response from API
                            alert('User registered successfully!');
                            // Clear input fields
                            $('input[type="text"]').val('');
                            $('input[type="email"]').val('');
                            $('input[type="tel"]').val('');
                            $('input[type="date"]').val('');
                            $('input[type="file"]').val('');
                            $('select').val('');
                            $('input[name="user-type"]').prop('checked', false);
                        },
                        error: function(error) {
                            // Handle error response from API
                            alert('Error registering user. Please try again.');
                        }
                    });
                }
            });
        });
    </script>
</head>
<body>
    <div class="banner">
        <h1>User Registration</h1>
    </div>
    <div class="container">
        <form>
            <div class="form-group user-type-field">
                <label>User Type:</label><br>
                <input type="radio" name="user-type" value="user1" required> User Type 1<br>
                <input type="radio" name="user-type" value="user2" required> User Type 2<br>
            </div>
            <div class="form-group">
                <label for="first-name">First Name:</label>
                <input type="text" id="first-name" required>
            </div>
            <div class="form-group">
                <label for="middle-name">Middle Name:</label>
                <input type="text" id="middle-name" required>
            </div>
            <div class="form-group">
                <label for="last-name">Last Name:</label>
                <input type="text" id="last-name" required>
            </div>
            <div class="form-group">
                <label for="email">Email:</label>
                <input type="email" id="email" required>
            </div>
            <div class="form-group">
                <label for="phone-number">Phone Number:</label>
                <input type="tel" id="phone-number" required>
            </div>
            <div class="form-group">
                <label>Address:</label><br>
                <input type="text" id="street-address" placeholder="Street Address" required>
                <input type="text" id="city" placeholder="City" required>
                <input type="text" id="state" placeholder="State" required>
                <input type="text" id="postal-code" placeholder="Postal Code" required>
            </div>
            <div class="form-group">
                <label for="nationality">Nationality:</label>
                <input type="text" id="nationality" required>
            </div>
            <div class="form-group">
                <label for="dob">Date of Birth:</label>
                <input type="date" id="dob" required>
            </div>
            <div class="form-group">
                <label for="id-number">ID Number:</label>
                <input type="text" id="id-number" required>
            </div>
            <div class="form-group">
                <label for="id-type">ID Type:</label>
                <input type="text" id="id-type" required>
            </div>
            <div class="form-group">
                <label for="id-issue-state">ID Issue State:</label>
                <input type="text" id="id-issue-state" required>
            </div>
            <div class="form-group">
                <label for="id-issue-country">ID Issue Country:</label>
                <input type="text" id="id-issue-country" required>
            </div>
            <div class="form-group" id="id-upload-field">
                <label for="id-upload">ID Document Upload:</label>
                <input type="file" id="id-upload" required>
            </div>
            <div class="form-group" id="option-field">
                <label for="option">Option:</label>
                <select id="option" required>
                    <option value="option1">Option 1</option>
                    <option value="option2">Option 2</option>
                    <option value="option3">Option 3</option>
                </select>
            </div>
            <button type="button" id="submit-btn">Submit</button>
        </form>
    </div>
</body>
</html>
